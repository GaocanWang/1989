[gd_scene load_steps=11 format=4 uid="uid://cvw13l8rfqgke"]

[ext_resource type="Script" uid="uid://b3mbmxr3iysya" path="res://Levels/scripts/level.gd" id="1_sheyd"]
[ext_resource type="TileSet" uid="uid://k4sa1rxa7ww0" path="res://Tile Maps/Tile Sets/pool.tres" id="2_h7lxs"]
[ext_resource type="Script" uid="uid://2hobeot03u4v" path="res://Tile Maps/level_tile_map.gd" id="3_cngrh"]
[ext_resource type="PackedScene" uid="uid://uqut3xy8f7mb" path="res://Levels/player_spawn.tscn" id="4_qw1t7"]
[ext_resource type="PackedScene" uid="uid://bt4r7451gfkr5" path="res://Levels/level_transition.tscn" id="5_idsfb"]
[ext_resource type="Script" uid="uid://dqrok5vg7oa3d" path="res://Interactables/dialog/scripts/dialog_text.gd" id="6_1i7o8"]
[ext_resource type="Resource" uid="uid://c2w2tyjg78bol" path="res://npc/00_npcs/amelia.tres" id="7_og48a"]
[ext_resource type="PackedScene" uid="uid://bkssnj2mcwv8c" path="res://Interactables/dialog/dialog_interaction.tscn" id="11_wlaoj"]
[ext_resource type="Resource" uid="uid://c8f2rv7i4g6bx" path="res://npc/00_npcs/box.tres" id="12_q3qj7"]

[sub_resource type="Resource" id="Resource_5lnb6"]
metadata/__load_path__ = "res://Levels/music/dream sequence bgm.mp3"

[node name="13" type="Node2D"]
script = ExtResource("1_sheyd")
music = SubResource("Resource_5lnb6")

[node name="Floor" type="TileMapLayer" parent="."]
tile_map_data = PackedByteArray("AAADAAAAAQAAAAQAAAADAAIAAQAAAAQAAAADAAMAAQAAAAQAAAADAAQAAQAAAAQAAAADAAUAAQAAAAQAAAADAAYAAQAAAAQAAAADAAcAAQAAAAQAAAAEAAAAAQAAAAQAAAAEAAIAAQAAAAQAAAAEAAMAAQAAAAQAAAAEAAQAAQAAAAQAAAAEAAUAAQAAAAQAAAAEAAYAAQAAAAQAAAAEAAcAAQAAAAQAAAAFAAAAAQAAAAQAAAAGAAAAAQAAAAQAAAAHAAAAAQAAAAQAAAAIAAAAAQAAAAQAAAAJAAAAAQAAAAQAAAAKAAAAAQAAAAQAAAALAAAAAQAAAAQAAAAAAAEAAQAAAAQAAAAAAAIAAQAAAAQAAAABAAMAAQAAAAQAAAABAAQAAQAAAAQAAAABAAUAAQAAAAQAAAABAAYAAQAAAAQAAAABAAcAAQAAAAQAAAAAAAMAAQAAAAQAAAAAAAQAAQAAAAQAAAAAAAUAAQAAAAQAAAAAAAYAAQAAAAQAAAAAAAcAAQAAAAQAAAABAAAAAQAAAAQAAAABAAEAAQAAAAQAAAABAAIAAQAAAAQAAAACAAAAAQAAAAQAAAACAAEAAQAAAAQAAAACAAIAAQAAAAQAAAACAAMAAQAAAAQAAAACAAQAAQAAAAQAAAACAAUAAQAAAAQAAAACAAYAAQAAAAQAAAACAAcAAQAAAAQAAAAMAAAAAQAAAAQAAAAMAAIAAQAAAAQAAAAMAAMAAQAAAAQAAAAMAAQAAQAAAAQAAAAMAAUAAQAAAAQAAAAMAAYAAQAAAAQAAAAMAAcAAQAAAAQAAAANAAAAAQAAAAQAAAANAAIAAQAAAAQAAAANAAMAAQAAAAQAAAANAAQAAQAAAAQAAAANAAUAAQAAAAQAAAANAAYAAQAAAAQAAAANAAcAAQAAAAQAAAAOAAAAAQAAAAQAAAAOAAEAAQAAAAQAAAAOAAIAAQAAAAQAAAAOAAMAAQAAAAQAAAAOAAQAAQAAAAQAAAAOAAUAAQAAAAQAAAAOAAYAAQAAAAQAAAAOAAcAAQAAAAQAAAAAAAAAAQAAAAQAAAAPAAAAAQAAAAQAAAAPAAEAAQAAAAQAAAAPAAIAAQAAAAQAAAAPAAMAAQAAAAQAAAAPAAQAAQAAAAQAAAAPAAUAAQAAAAQAAAAPAAYAAQAAAAQAAAAPAAcAAQAAAAQAAAADAAEAAQAAAAQAAAAEAAEAAQAAAAQAAAAFAAEAAQAAAAQAAAAGAAEAAQAAAAQAAAAHAAEAAQAAAAQAAAAIAAEAAQAAAAQAAAAJAAEAAQAAAAQAAAAKAAEAAQAAAAQAAAALAAEAAQAAAAQAAAAMAAEAAQAAAAQAAAANAAEAAQAAAAQAAAAFAAIAAQAAAAQAAAAFAAMAAQAKAAAAAAAFAAQAAQAQAAAAAAAFAAUAAQAKAAAAAAAFAAYAAQAKAAAAAAAGAAIAAQAAAAQAAAAGAAMAAQAKAAAAAAAGAAQAAQAQAAAAAAAGAAUAAQAKAAAAAAAGAAYAAQAKAAAAAAAHAAIAAQAAAAQAAAAHAAMAAQAKAAAAAAAHAAQAAQAQAAAAAAAHAAUAAQAKAAAAAAAHAAYAAQAKAAAAAAAIAAIAAQAAAAQAAAAIAAMAAQAKAAAAAAAJAAIAAQAAAAQAAAAJAAMAAQAKAAAAAAAJAAQAAQAQAAAAAAAJAAUAAQAKAAAAAAAJAAYAAQAKAAAAAAAKAAIAAQAAAAQAAAAKAAMAAQAKAAAAAAAKAAQAAQAQAAAAAAAKAAUAAQAKAAAAAAAKAAYAAQAKAAAAAAALAAIAAQAAAAQAAAALAAMAAQAAAAQAAAALAAQAAQAAAAQAAAALAAUAAQAAAAQAAAALAAYAAQAAAAQAAAALAAcAAQAAAAQAAAAIAAQAAQAQAAAAAAAIAAUAAQAMAAAAAAAIAAYAAQAKAAAAAAAFAAcAAQAAAAQAAAAGAAcAAQAAAAQAAAAHAAcAAQAAAAQAAAAIAAcAAQAAAAQAAAAJAAcAAQAAAAQAAAAKAAcAAQAAAAQAAAAAAAgAAQAAAAQAAAABAAgAAQAAAAQAAAACAAgAAQAAAAQAAAADAAgAAQAAAAQAAAAEAAgAAQAAAAQAAAAFAAgAAQAAAAQAAAAGAAgAAQAAAAQAAAAHAAgAAQAAAAQAAAAIAAgAAQAAAAQAAAAJAAgAAQAAAAQAAAAKAAgAAQAAAAQAAAALAAgAAQAAAAQAAAAMAAgAAQAAAAQAAAANAAgAAQAAAAQAAAAOAAgAAQAAAAQAAAAPAAgAAQAAAAQAAAA=")
tile_set = ExtResource("2_h7lxs")
rendering_quadrant_size = 24
script = ExtResource("3_cngrh")

[node name="Wall" type="TileMapLayer" parent="."]
tile_map_data = PackedByteArray("AAAGAAEAAQABAAEAAAAGAAIAAQABAAEAAAAHAAEAAQABAAEAAAAHAAIAAQABAAEAAAAIAAEAAQABAAEAAAAIAAIAAQABAAEAAAAJAAEAAQABAAEAAAAJAAIAAQABAAEAAAAFAAEAAQABAAEAAAAFAAIAAQABAAEAAAAKAAEAAQABAAEAAAAKAAIAAQABAAEAAAAEAAUAAQAEAAEAADAEAAQAAQAEAAEAADA=")
tile_set = ExtResource("2_h7lxs")
rendering_quadrant_size = 24

[node name="Other" type="TileMapLayer" parent="."]
y_sort_enabled = true
tile_map_data = PackedByteArray("AAAGAAAAAQAEAAEAAGAHAAAAAQAEAAEAAGAIAAAAAQAEAAEAAGAJAAAAAQAEAAEAAGAEAAAAAQAEAAAAADAEAAEAAQAEAAEAADAEAAIAAQAEAAEAADAEAAMAAQAEAAEAADAEAAQAAQAMAAEAABALAAAAAQAEAAAAAGALAAEAAQAEAAEAAAALAAIAAQAEAAEAAAALAAMAAQAEAAEAAAALAAQAAQAEAAEAAAALAAUAAQAEAAEAAAALAAYAAQAEAAEAAAAFAAAAAQAEAAEAAGAKAAAAAQAEAAEAAGAEAAcAAQAEAAAAAFALAAcAAQAEAAAAAAAFAAcAAQAEAAEAAFAGAAcAAQAEAAEAAFAHAAcAAQAEAAEAAFAIAAcAAQAEAAEAAFAJAAcAAQAEAAEAAFAKAAcAAQAEAAEAAFAJAAMAAQAUAAEAAAAJAAEAAQAXAAAAAGAKAAEAAQAXAAAAAAAKAAIAAQAXAAEAAAAKAAMAAQAXAAEAAAAKAAQAAQAXAAEAAAAKAAUAAQAXAAEAAAAKAAYAAQAXAAIAAAAIAAEAAQAXAAAAAAAHAAEAAQAXAAEAAFAGAAEAAQAXAAEAAFAFAAEAAQAXAAAAAGAFAAIAAQAXAAEAAAAFAAMAAQAXAAIAAAAHAAIAAQAWAAIAAAAGAAYAAQAIAAUAAAAJAAYAAQAXAAEAAGAIAAYAAQAXAAEAAGAHAAYAAQAXAAAAAGAJAAIAAQATAAEAAAAEAAUAAQAMAAIAABAFAAUAAQALAAIAAAAFAAQAAQALAAEAAAAFAAYAAQAQAAEAAAAEAAYAAQAEAAEAADA=")
tile_set = ExtResource("2_h7lxs")

[node name="PlayerSpawn" parent="." instance=ExtResource("4_qw1t7")]
position = Vector2(182, 120)

[node name="LevelTransition" parent="." instance=ExtResource("5_idsfb")]
position = Vector2(120, 132)
level = "uid://co4f0ibd8t1gp"
target_transition_area = "LevelTransition6"
door = true
size = 1

[node name="Drain" parent="." instance=ExtResource("11_wlaoj")]
position = Vector2(204, 132)

[node name="DialogText" type="Node" parent="Drain"]
script = ExtResource("6_1i7o8")
text = "A square floor drain sits at the lowest point in the room."
npc_info = ExtResource("12_q3qj7")
metadata/_custom_type_script = "uid://dqrok5vg7oa3d"

[node name="DialogText2" type="Node" parent="Drain"]
script = ExtResource("6_1i7o8")
text = "Through the mesh grate, something faintly glints beneath the water."
npc_info = ExtResource("12_q3qj7")
metadata/_custom_type_script = "uid://dqrok5vg7oa3d"

[node name="DialogText3" type="Node" parent="Drain"]
script = ExtResource("6_1i7o8")
text = "(What is that…?)"
frame = 17
npc_info = ExtResource("7_og48a")
metadata/_custom_type_script = "uid://dqrok5vg7oa3d"

[node name="Pipes" parent="." instance=ExtResource("11_wlaoj")]
position = Vector2(209, 161)
size = Vector2(60, 12)

[node name="DialogText" type="Node" parent="Pipes"]
script = ExtResource("6_1i7o8")
text = "A slightly rusted pipe among many others."
npc_info = ExtResource("12_q3qj7")
metadata/_custom_type_script = "uid://dqrok5vg7oa3d"

[node name="PoolFilter" parent="." instance=ExtResource("11_wlaoj")]
position = Vector2(132, 84)

[node name="DialogText" type="Node" parent="PoolFilter"]
script = ExtResource("6_1i7o8")
text = "A large cylindrical tank stands here."
npc_info = ExtResource("12_q3qj7")
metadata/_custom_type_script = "uid://dqrok5vg7oa3d"

[node name="DialogText2" type="Node" parent="PoolFilter"]
script = ExtResource("6_1i7o8")
text = "It appears to be the pool filter."
npc_info = ExtResource("12_q3qj7")
metadata/_custom_type_script = "uid://dqrok5vg7oa3d"

[node name="Chlorinator" parent="." instance=ExtResource("11_wlaoj")]
position = Vector2(252, 156)

[node name="DialogText" type="Node" parent="Chlorinator"]
script = ExtResource("6_1i7o8")
text = "A compact machine connected to the pipes."
npc_info = ExtResource("12_q3qj7")
metadata/_custom_type_script = "uid://dqrok5vg7oa3d"

[node name="DialogText2" type="Node" parent="Chlorinator"]
script = ExtResource("6_1i7o8")
text = "A label reads ‘Chlorinator’ in faded text."
npc_info = ExtResource("12_q3qj7")
metadata/_custom_type_script = "uid://dqrok5vg7oa3d"

[node name="ValveInstructions" parent="." instance=ExtResource("11_wlaoj")]
position = Vector2(168, 60)

[node name="DialogText" type="Node" parent="ValveInstructions"]
script = ExtResource("6_1i7o8")
text = "A laminated instruction sheet hangs beside the valve system."
npc_info = ExtResource("12_q3qj7")
metadata/_custom_type_script = "uid://dqrok5vg7oa3d"

[node name="ValveSystem" parent="." instance=ExtResource("11_wlaoj")]

[node name="DialogText" type="Node" parent="ValveSystem"]
script = ExtResource("6_1i7o8")
text = "A cluster of rusted valve wheels mounted to the pipe system."
npc_info = ExtResource("12_q3qj7")
metadata/_custom_type_script = "uid://dqrok5vg7oa3d"

[node name="DialogText2" type="Node" parent="ValveSystem"]
script = ExtResource("6_1i7o8")
text = "“These valves won’t turn.”"
npc_info = ExtResource("7_og48a")
metadata/_custom_type_script = "uid://dqrok5vg7oa3d"

[node name="DialogText3" type="Node" parent="ValveSystem"]
script = ExtResource("6_1i7o8")
text = "“I should talk to the others before trying anything.”"
frame = 16
npc_info = ExtResource("7_og48a")
metadata/_custom_type_script = "uid://dqrok5vg7oa3d"
