[gd_scene load_steps=18 format=4 uid="uid://duj200f4xwn6"]

[ext_resource type="Script" uid="uid://b3mbmxr3iysya" path="res://Levels/scripts/level.gd" id="1_rv6tx"]
[ext_resource type="AudioStream" uid="uid://b81283fy0yy7v" path="res://Levels/music/what_happened_here.ogg" id="2_acsf3"]
[ext_resource type="TileSet" uid="uid://k4sa1rxa7ww0" path="res://Tile Maps/Tile Sets/pool.tres" id="3_wkwft"]
[ext_resource type="Script" uid="uid://2hobeot03u4v" path="res://Tile Maps/level_tile_map.gd" id="4_6ewgb"]
[ext_resource type="PackedScene" uid="uid://uqut3xy8f7mb" path="res://Levels/player_spawn.tscn" id="5_pgryn"]
[ext_resource type="PackedScene" uid="uid://bt4r7451gfkr5" path="res://Levels/level_transition.tscn" id="6_f0idk"]
[ext_resource type="PackedScene" uid="uid://brcokd2rqfg8p" path="res://Interactables/Mirror/Mirror.tscn" id="7_315hk"]
[ext_resource type="AudioStream" uid="uid://crnmpik3qpwgl" path="res://Interactables/Mirror/bathroom mirror ambience.mp3" id="8_6ewgb"]
[ext_resource type="VideoStream" uid="uid://ddwdxqc1kljoh" path="res://Interactables/Mirror/amelia-mirror-fullscreen-aya-ver.ogv" id="8_wkwft"]
[ext_resource type="Script" uid="uid://dqrok5vg7oa3d" path="res://Interactables/dialog/scripts/dialog_text.gd" id="10_wovir"]
[ext_resource type="Resource" uid="uid://c8f2rv7i4g6bx" path="res://npc/00_npcs/box.tres" id="11_acsf3"]
[ext_resource type="Script" uid="uid://dst30i4jr8cmt" path="res://Interactables/dialog/scripts/dialog_sfx.gd" id="12_jncu6"]
[ext_resource type="AudioStream" uid="uid://b4lhh2f0f1pa6" path="res://GUI/dialog_system/audio/SFX plays.mp3" id="13_ade5r"]
[ext_resource type="Resource" uid="uid://c2w2tyjg78bol" path="res://npc/00_npcs/amelia.tres" id="14_umolt"]
[ext_resource type="PackedScene" uid="uid://bkssnj2mcwv8c" path="res://Interactables/dialog/dialog_interaction.tscn" id="15_qai5u"]
[ext_resource type="PackedScene" uid="uid://b432xpqgsexod" path="res://Interactables/SinkPieces/sink_pieces.tscn" id="16_acsf3"]

[sub_resource type="Resource" id="Resource_pgryn"]
metadata/__load_path__ = "res://Levels/music/dream sequence bgm.mp3"

[node name="05" type="Node2D"]
script = ExtResource("1_rv6tx")
music = ExtResource("2_acsf3")

[node name="Floor" type="TileMapLayer" parent="."]
tile_map_data = PackedByteArray("AAADAAAAAQAAAAQAAAADAAIAAQAAAAQAAAADAAMAAQAAAAQAAAADAAQAAQAAAAQAAAADAAUAAQAAAAQAAAADAAYAAQAAAAQAAAADAAcAAQAAAAQAAAADAAgAAQAAAAQAAAAEAAAAAQAAAAQAAAAEAAIAAQAAAAQAAAAEAAMAAQAAAAQAAAAEAAQAAQAAAAQAAAAEAAUAAQAAAAQAAAAEAAYAAQAAAAQAAAAEAAcAAQAAAAQAAAAEAAgAAQAAAAQAAAAFAAAAAQAAAAQAAAAFAAQAAQAKAAAAAAAFAAUAAQAKAAAAAAAFAAYAAQAKAAAAAAAFAAgAAQAAAAQAAAAGAAAAAQAAAAQAAAAGAAQAAQAKAAAAAAAGAAUAAQAKAAAAAAAGAAYAAQAKAAAAAAAGAAcAAQAKAAAAAAAGAAgAAQAAAAQAAAAHAAAAAQAAAAQAAAAHAAQAAQAKAAAAAAAHAAUAAQAKAAAAAAAHAAYAAQAKAAAAAAAHAAcAAQAKAAAAAAAHAAgAAQAAAAQAAAAIAAAAAQAAAAQAAAAIAAQAAQAKAAAAAAAIAAUAAQAKAAAAAAAIAAYAAQAKAAAAAAAIAAcAAQAKAAAAAAAIAAgAAQAAAAQAAAAJAAAAAQAAAAQAAAAJAAQAAQAKAAAAAAAJAAUAAQAKAAAAAAAJAAYAAQAKAAAAAAAJAAcAAQAKAAAAAAAJAAgAAQAAAAQAAAAKAAAAAQAAAAQAAAAKAAQAAQAKAAAAAAAKAAUAAQAKAAAAAAAKAAYAAQAKAAAAAAAKAAcAAQAKAAAAAAAKAAgAAQAAAAQAAAALAAAAAQAAAAQAAAALAAIAAQAAAAQAAAALAAMAAQAAAAQAAAALAAQAAQAAAAQAAAALAAUAAQAAAAQAAAALAAYAAQAAAAQAAAALAAcAAQAAAAQAAAALAAgAAQAAAAQAAAAAAAEAAQAAAAQAAAAAAAIAAQAAAAQAAAABAAMAAQAAAAQAAAABAAQAAQAAAAQAAAABAAUAAQAAAAQAAAABAAYAAQAAAAQAAAABAAcAAQAAAAQAAAABAAgAAQAAAAQAAAAAAAMAAQAAAAQAAAAAAAQAAQAAAAQAAAAAAAUAAQAAAAQAAAAAAAYAAQAAAAQAAAAAAAcAAQAAAAQAAAAAAAgAAQAAAAQAAAABAAAAAQAAAAQAAAABAAEAAQAAAAQAAAABAAIAAQAAAAQAAAACAAAAAQAAAAQAAAACAAEAAQAAAAQAAAACAAIAAQAAAAQAAAACAAMAAQAAAAQAAAACAAQAAQAAAAQAAAACAAUAAQAAAAQAAAACAAYAAQAAAAQAAAACAAcAAQAAAAQAAAACAAgAAQAAAAQAAAAMAAAAAQAAAAQAAAAMAAIAAQAAAAQAAAAMAAMAAQAAAAQAAAAMAAQAAQAAAAQAAAAMAAUAAQAAAAQAAAAMAAYAAQAAAAQAAAAMAAcAAQAAAAQAAAAMAAgAAQAAAAQAAAANAAAAAQAAAAQAAAANAAIAAQAAAAQAAAANAAMAAQAAAAQAAAANAAQAAQAAAAQAAAANAAUAAQAAAAQAAAANAAYAAQAAAAQAAAANAAcAAQAAAAQAAAANAAgAAQAAAAQAAAAOAAAAAQAAAAQAAAAOAAEAAQAAAAQAAAAOAAIAAQAAAAQAAAAOAAMAAQAAAAQAAAAOAAQAAQAAAAQAAAAOAAUAAQAAAAQAAAAOAAYAAQAAAAQAAAAOAAcAAQAAAAQAAAAOAAgAAQAAAAQAAAAAAAAAAQAAAAQAAAAPAAAAAQAAAAQAAAAPAAEAAQAAAAQAAAAPAAIAAQAAAAQAAAAPAAMAAQAAAAQAAAAPAAQAAQAAAAQAAAAPAAUAAQAAAAQAAAAPAAYAAQAAAAQAAAAPAAgAAQAAAAQAAAAPAAcAAQAAAAQAAAADAAEAAQAAAAQAAAAEAAEAAQAAAAQAAAAFAAEAAQAAAAQAAAAGAAEAAQAAAAQAAAAHAAEAAQAAAAQAAAAIAAEAAQAAAAQAAAAJAAEAAQAAAAQAAAAKAAEAAQAAAAQAAAALAAEAAQAAAAQAAAAMAAEAAQAAAAQAAAANAAEAAQAAAAQAAAAFAAMAAQAAAAQAAAAGAAMAAQAAAAQAAAAHAAMAAQAAAAQAAAAIAAMAAQAAAAQAAAAJAAMAAQAAAAQAAAAKAAMAAQAAAAQAAAAFAAIAAQAAAAQAAAAGAAIAAQAAAAQAAAAHAAIAAQAAAAQAAAAIAAIAAQAAAAQAAAAJAAIAAQAAAAQAAAAKAAIAAQAAAAQAAAAFAAcAAQAKAAAAAAA=")
tile_set = ExtResource("3_wkwft")
rendering_quadrant_size = 24
script = ExtResource("4_6ewgb")

[node name="Wall" type="TileMapLayer" parent="."]
tile_map_data = PackedByteArray("AAAFAAIAAQABAAEAAAAFAAMAAQABAAEAAAAGAAIAAQABAAEAAAAGAAMAAQABAAEAAAAHAAIAAQABAAEAAAAHAAMAAQABAAEAAAAIAAIAAQABAAEAAAAIAAMAAQABAAEAAAAJAAIAAQABAAEAAAAJAAMAAQABAAEAAAAKAAIAAQABAAEAAAAKAAMAAQABAAEAAAAJAAcAAQAMAAEAAAAIAAcAAQAMAAEAABAGAAcAAQAMAAEAABAHAAcAAQAMAAEAAAAFAAcAAQAMAAEAAAA=")
tile_set = ExtResource("3_wkwft")
rendering_quadrant_size = 24

[node name="Other" type="TileMapLayer" parent="."]
y_sort_enabled = true
tile_map_data = PackedByteArray("AAAJAAcAAQAOAAEAAAALAAUAAQAEAAEAAAALAAQAAQAEAAEAAAALAAMAAQAEAAEAAAALAAIAAQAEAAEAAAAKAAEAAQAEAAEAAGAJAAEAAQAEAAEAAGAIAAEAAQAEAAEAAGAHAAEAAQAEAAEAAGAGAAEAAQAEAAEAAGAFAAEAAQAEAAEAAGAEAAIAAQAEAAEAADAEAAMAAQAEAAEAADAEAAQAAQAEAAEAADAEAAUAAQAMAAEAADAFAAQAAQAQAAEAAAAFAAUAAQALAAEAAAAEAAYAAQAEAAEAADAEAAEAAQAEAAAAADALAAEAAQAEAAAAAGAIAAYAAQAPAAIAAAAIAAcAAQANAAEAAAAGAAcAAQANAAEAAAAKAAcAAQANAAEAAAAFAAcAAQAOAAEAAAAHAAcAAQAOAAEAAAAGAAYAAQAQAAIAAAAEAAcAAQAEAAEAADAFAAgAAQAEAAEAAFAGAAgAAQAEAAEAAFAHAAgAAQAEAAEAAFAIAAgAAQAEAAEAAFAJAAgAAQAEAAEAAFAKAAgAAQAEAAEAAFALAAYAAQAEAAEAAAALAAcAAQAEAAEAAAALAAgAAQAEAAAAAAAEAAgAAQAEAAAAAFAHAAIAAQALAAQAAAAIAAIAAQAMAAQAAAAJAAIAAQANAAQAAAAHAAMAAQALAAMAAAAIAAMAAQALAAMAAAAJAAMAAQALAAMAAAAFAAMAAQAPAAEAAAAFAAYAAQAOAAIAAAAHAAYAAQAOAAIAAAAJAAYAAQAOAAIAAAAKAAYAAQAPAAIAAAAKAAQAAQASAAgAAAA=")
tile_set = ExtResource("3_wkwft")

[node name="PlayerSpawn" parent="." instance=ExtResource("5_pgryn")]
position = Vector2(197, 124)

[node name="LevelTransition" parent="." instance=ExtResource("6_f0idk")]
position = Vector2(120, 132)
level = "uid://kaiv4m7e4ftt"
target_transition_area = "LevelTransition2"
door = true
size = 1

[node name="Mirror" parent="." instance=ExtResource("7_315hk")]
z_index = 1
position = Vector2(192, 90)
music = ExtResource("8_6ewgb")
music2 = SubResource("Resource_pgryn")

[node name="VideoStreamPlayer" type="VideoStreamPlayer" parent="Mirror"]
offset_left = -192.00006
offset_top = -90.0
offset_right = 1728.0
offset_bottom = 990.0
scale = Vector2(0.2, 0.2)
stream = ExtResource("8_wkwft")
expand = true
loop = true

[node name="Mirror2" parent="." instance=ExtResource("7_315hk")]
z_index = 1
position = Vector2(216, 90)
music = ExtResource("8_6ewgb")
music2 = SubResource("Resource_pgryn")

[node name="VideoStreamPlayer" type="VideoStreamPlayer" parent="Mirror2"]
offset_left = -216.0
offset_top = -90.0
offset_right = 1704.0
offset_bottom = 990.0
scale = Vector2(0.2, 0.2)
stream = ExtResource("8_wkwft")
expand = true
loop = true

[node name="DialogText" type="Node" parent="."]
script = ExtResource("10_wovir")
text = "..."
slow = true
npc_info = ExtResource("11_acsf3")
metadata/_custom_type_script = "uid://dqrok5vg7oa3d"

[node name="DialogSFX" type="Node" parent="."]
script = ExtResource("12_jncu6")
sfx = ExtResource("13_ade5r")
metadata/_custom_type_script = "uid://dst30i4jr8cmt"

[node name="DialogText2" type="Node" parent="."]
script = ExtResource("10_wovir")
text = "(…!)"
frame = 5
npc_info = ExtResource("14_umolt")
metadata/_custom_type_script = "uid://dqrok5vg7oa3d"

[node name="DialogText3" type="Node" parent="."]
script = ExtResource("10_wovir")
text = "(What…?!)"
frame = 5
npc_info = ExtResource("14_umolt")
metadata/_custom_type_script = "uid://dqrok5vg7oa3d"

[node name="DialogText4" type="Node" parent="."]
script = ExtResource("10_wovir")
text = "(What happened here…?)"
frame = 6
npc_info = ExtResource("14_umolt")
metadata/_custom_type_script = "uid://dqrok5vg7oa3d"

[node name="GarbageCan" parent="." instance=ExtResource("15_qai5u")]
position = Vector2(132, 97)
size = Vector2(12, 12)

[node name="DialogText" type="Node" parent="GarbageCan"]
script = ExtResource("10_wovir")
text = "A plastic garbage bin."
npc_info = ExtResource("11_acsf3")
metadata/_custom_type_script = "uid://dqrok5vg7oa3d"

[node name="DialogText2" type="Node" parent="GarbageCan"]
script = ExtResource("10_wovir")
text = "(I don’t wanna search in there…)"
frame = 18
npc_info = ExtResource("14_umolt")
metadata/_custom_type_script = "uid://dqrok5vg7oa3d"

[node name="Sink" parent="." instance=ExtResource("15_qai5u")]
position = Vector2(176, 90)
size = Vector2(10, 12)

[node name="DialogText" type="Node" parent="Sink"]
script = ExtResource("10_wovir")
text = "A porcelain sink station."
npc_info = ExtResource("11_acsf3")
metadata/_custom_type_script = "uid://dqrok5vg7oa3d"

[node name="DialogText2" type="Node" parent="Sink"]
script = ExtResource("10_wovir")
text = "(I’ll see if I can turn it on later…)"
npc_info = ExtResource("14_umolt")
metadata/_custom_type_script = "uid://dqrok5vg7oa3d"

[node name="Sink2" parent="." instance=ExtResource("15_qai5u")]
position = Vector2(204, 90)
size = Vector2(2, 12)

[node name="DialogText" type="Node" parent="Sink2"]
script = ExtResource("10_wovir")
text = "A porcelain sink station."
npc_info = ExtResource("11_acsf3")
metadata/_custom_type_script = "uid://dqrok5vg7oa3d"

[node name="DialogText2" type="Node" parent="Sink2"]
script = ExtResource("10_wovir")
text = "(I’ll see if I can turn it on later…)"
npc_info = ExtResource("14_umolt")
metadata/_custom_type_script = "uid://dqrok5vg7oa3d"

[node name="BrokenSink" parent="." instance=ExtResource("15_qai5u")]
position = Vector2(232, 90)
size = Vector2(10, 12)

[node name="DialogText" type="Node" parent="BrokenSink"]
script = ExtResource("10_wovir")
text = "A broken porcelain sink station."
npc_info = ExtResource("11_acsf3")
metadata/_custom_type_script = "uid://dqrok5vg7oa3d"

[node name="DialogText2" type="Node" parent="BrokenSink"]
script = ExtResource("10_wovir")
text = "The corner is shattered and has traces of blood."
npc_info = ExtResource("11_acsf3")
metadata/_custom_type_script = "uid://dqrok5vg7oa3d"

[node name="DialogText3" type="Node" parent="BrokenSink"]
script = ExtResource("10_wovir")
text = "(The blood has dried a bit.)"
npc_info = ExtResource("14_umolt")
metadata/_custom_type_script = "uid://dqrok5vg7oa3d"

[node name="DialogText4" type="Node" parent="BrokenSink"]
script = ExtResource("10_wovir")
text = "(What could have happened here?)"
frame = 16
npc_info = ExtResource("14_umolt")
metadata/_custom_type_script = "uid://dqrok5vg7oa3d"

[node name="Toilet" parent="." instance=ExtResource("15_qai5u")]
position = Vector2(156, 184)
size = Vector2(16, 16)

[node name="DialogText" type="Node" parent="Toilet"]
script = ExtResource("10_wovir")
text = "A porcelain toilet sits against the wall."
npc_info = ExtResource("11_acsf3")
metadata/_custom_type_script = "uid://dqrok5vg7oa3d"

[node name="DialogText2" type="Node" parent="Toilet"]
script = ExtResource("10_wovir")
text = "(It looks untouched.)"
npc_info = ExtResource("14_umolt")
metadata/_custom_type_script = "uid://dqrok5vg7oa3d"

[node name="TowelDispenser" parent="." instance=ExtResource("15_qai5u")]
position = Vector2(144, 89)
size = Vector2(12, 16)

[node name="DialogText" type="Node" parent="TowelDispenser"]
script = ExtResource("10_wovir")
text = "A paper towel dispenser hangs on the wall."
npc_info = ExtResource("11_acsf3")
metadata/_custom_type_script = "uid://dqrok5vg7oa3d"

[node name="SinkPieces" parent="." instance=ExtResource("16_acsf3")]
position = Vector2(252, 108)

[node name="1" type="Node" parent="SinkPieces"]

[node name="DialogText" type="Node" parent="SinkPieces/1"]
script = ExtResource("10_wovir")
text = "Shattered pieces of the sink and mirror lie on the ground."
npc_info = ExtResource("11_acsf3")
metadata/_custom_type_script = "uid://dqrok5vg7oa3d"

[node name="DialogText2" type="Node" parent="SinkPieces/1"]
script = ExtResource("10_wovir")
text = "There’s visible blood splatter on them."
npc_info = ExtResource("11_acsf3")
metadata/_custom_type_script = "uid://dqrok5vg7oa3d"

[node name="DialogText3" type="Node" parent="SinkPieces/1"]
script = ExtResource("10_wovir")
text = "(Where did all the blood come from?)"
frame = 17
npc_info = ExtResource("14_umolt")
metadata/_custom_type_script = "uid://dqrok5vg7oa3d"

[node name="DialogText4" type="Node" parent="SinkPieces/1"]
script = ExtResource("10_wovir")
text = "(I know I’m not allowed to touch anything but…)"
frame = 16
npc_info = ExtResource("14_umolt")
metadata/_custom_type_script = "uid://dqrok5vg7oa3d"

[node name="DialogText5" type="Node" parent="SinkPieces/1"]
script = ExtResource("10_wovir")
text = "(…I feel like I’ll need these later…)"
npc_info = ExtResource("14_umolt")
metadata/_custom_type_script = "uid://dqrok5vg7oa3d"

[node name="Yes" type="Node" parent="SinkPieces"]

[node name="DialogText" type="Node" parent="SinkPieces/Yes"]
script = ExtResource("10_wovir")
text = "**YOU OBTAINED: BLOODY SINK FRAGMENT"
npc_info = ExtResource("11_acsf3")
metadata/_custom_type_script = "uid://dqrok5vg7oa3d"

[node name="DialogText2" type="Node" parent="SinkPieces/Yes"]
script = ExtResource("10_wovir")
text = "“There’s a ton of these fragments.”"
frame = 10
npc_info = ExtResource("14_umolt")
metadata/_custom_type_script = "uid://dqrok5vg7oa3d"

[node name="DialogText3" type="Node" parent="SinkPieces/Yes"]
script = ExtResource("10_wovir")
text = "“Taking one surely won’t hurt anyone.”"
npc_info = ExtResource("14_umolt")
metadata/_custom_type_script = "uid://dqrok5vg7oa3d"

[node name="No" type="Node" parent="SinkPieces"]

[node name="DialogText" type="Node" parent="SinkPieces/No"]
script = ExtResource("10_wovir")
text = "(…)"
frame = 16
npc_info = ExtResource("14_umolt")
metadata/_custom_type_script = "uid://dqrok5vg7oa3d"

[node name="DialogText2" type="Node" parent="SinkPieces/No"]
script = ExtResource("10_wovir")
text = "(No, it’s best to come get it after I’m done searching.)"
npc_info = ExtResource("14_umolt")
metadata/_custom_type_script = "uid://dqrok5vg7oa3d"

[node name="Repeat" type="Node" parent="SinkPieces"]

[node name="DialogText" type="Node" parent="SinkPieces/Repeat"]
script = ExtResource("10_wovir")
text = "Shattered pieces of the sink and mirror lie on the ground."
npc_info = ExtResource("11_acsf3")
metadata/_custom_type_script = "uid://dqrok5vg7oa3d"

[node name="DialogText2" type="Node" parent="SinkPieces/Repeat"]
script = ExtResource("10_wovir")
text = "There’s visible blood splatter on them."
npc_info = ExtResource("11_acsf3")
metadata/_custom_type_script = "uid://dqrok5vg7oa3d"
