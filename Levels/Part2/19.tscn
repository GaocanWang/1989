[gd_scene load_steps=16 format=4 uid="uid://bojd53aa6ucl1"]

[ext_resource type="Script" uid="uid://b3mbmxr3iysya" path="res://Levels/scripts/level.gd" id="1_vsq0a"]
[ext_resource type="AudioStream" uid="uid://cimn4s0yk1yh3" path="res://Levels/music/what_happened_here.mp3" id="2_ue5fm"]
[ext_resource type="TileSet" uid="uid://k4sa1rxa7ww0" path="res://Tile Maps/Tile Sets/pool.tres" id="3_l3817"]
[ext_resource type="Script" uid="uid://2hobeot03u4v" path="res://Tile Maps/level_tile_map.gd" id="4_dkl2c"]
[ext_resource type="PackedScene" uid="uid://uqut3xy8f7mb" path="res://Levels/player_spawn.tscn" id="5_bekep"]
[ext_resource type="PackedScene" uid="uid://bt4r7451gfkr5" path="res://Levels/level_transition.tscn" id="6_xpak6"]
[ext_resource type="PackedScene" uid="uid://brcokd2rqfg8p" path="res://Interactables/Mirror/Mirror.tscn" id="7_gncu6"]
[ext_resource type="AudioStream" uid="uid://crnmpik3qpwgl" path="res://Interactables/Mirror/bathroom mirror ambience.mp3" id="8_yw2c1"]
[ext_resource type="VideoStream" uid="uid://ddwdxqc1kljoh" path="res://Interactables/Mirror/amelia-mirror-fullscreen-aya-ver.ogv" id="9_k8tp8"]
[ext_resource type="Script" uid="uid://dqrok5vg7oa3d" path="res://Interactables/dialog/scripts/dialog_text.gd" id="10_qnhht"]
[ext_resource type="Resource" uid="uid://c8f2rv7i4g6bx" path="res://npc/00_npcs/box.tres" id="11_sbofq"]
[ext_resource type="Resource" uid="uid://c2w2tyjg78bol" path="res://npc/00_npcs/amelia.tres" id="14_apwyc"]
[ext_resource type="PackedScene" uid="uid://bkssnj2mcwv8c" path="res://Interactables/dialog/dialog_interaction.tscn" id="15_18ykt"]
[ext_resource type="PackedScene" uid="uid://b432xpqgsexod" path="res://Interactables/SinkPieces/sink_pieces.tscn" id="19_wjl6b"]

[sub_resource type="Resource" id="Resource_pgryn"]
metadata/__load_path__ = "res://Levels/music/dream sequence bgm.mp3"

[node name="19" type="Node2D"]
script = ExtResource("1_vsq0a")
music = ExtResource("2_ue5fm")

[node name="Floor" type="TileMapLayer" parent="."]
tile_map_data = PackedByteArray("AAADAAAAAQAAAAQAAAADAAIAAQAAAAQAAAADAAMAAQAAAAQAAAADAAQAAQAAAAQAAAADAAUAAQAAAAQAAAADAAYAAQAAAAQAAAADAAcAAQAAAAQAAAADAAgAAQAAAAQAAAAEAAAAAQAAAAQAAAAEAAIAAQAAAAQAAAAEAAMAAQAAAAQAAAAEAAQAAQAAAAQAAAAEAAUAAQAAAAQAAAAEAAYAAQAAAAQAAAAEAAcAAQAAAAQAAAAEAAgAAQAAAAQAAAAFAAAAAQAAAAQAAAAFAAQAAQAKAAAAAAAFAAUAAQAKAAAAAAAFAAYAAQAKAAAAAAAFAAgAAQAAAAQAAAAGAAAAAQAAAAQAAAAGAAQAAQAKAAAAAAAGAAUAAQAKAAAAAAAGAAYAAQAKAAAAAAAGAAcAAQAKAAAAAAAGAAgAAQAAAAQAAAAHAAAAAQAAAAQAAAAHAAQAAQAKAAAAAAAHAAUAAQAKAAAAAAAHAAYAAQAKAAAAAAAHAAcAAQAKAAAAAAAHAAgAAQAAAAQAAAAIAAAAAQAAAAQAAAAIAAQAAQAKAAAAAAAIAAUAAQAKAAAAAAAIAAYAAQAKAAAAAAAIAAcAAQAKAAAAAAAIAAgAAQAAAAQAAAAJAAAAAQAAAAQAAAAJAAQAAQAKAAAAAAAJAAUAAQAKAAAAAAAJAAYAAQAKAAAAAAAJAAcAAQAKAAAAAAAJAAgAAQAAAAQAAAAKAAAAAQAAAAQAAAAKAAQAAQAKAAAAAAAKAAUAAQAKAAAAAAAKAAYAAQAKAAAAAAAKAAcAAQAKAAAAAAAKAAgAAQAAAAQAAAALAAAAAQAAAAQAAAALAAIAAQAAAAQAAAALAAMAAQAAAAQAAAALAAQAAQAAAAQAAAALAAUAAQAAAAQAAAALAAYAAQAAAAQAAAALAAcAAQAAAAQAAAALAAgAAQAAAAQAAAAAAAEAAQAAAAQAAAAAAAIAAQAAAAQAAAABAAMAAQAAAAQAAAABAAQAAQAAAAQAAAABAAUAAQAAAAQAAAABAAYAAQAAAAQAAAABAAcAAQAAAAQAAAABAAgAAQAAAAQAAAAAAAMAAQAAAAQAAAAAAAQAAQAAAAQAAAAAAAUAAQAAAAQAAAAAAAYAAQAAAAQAAAAAAAcAAQAAAAQAAAAAAAgAAQAAAAQAAAABAAAAAQAAAAQAAAABAAEAAQAAAAQAAAABAAIAAQAAAAQAAAACAAAAAQAAAAQAAAACAAEAAQAAAAQAAAACAAIAAQAAAAQAAAACAAMAAQAAAAQAAAACAAQAAQAAAAQAAAACAAUAAQAAAAQAAAACAAYAAQAAAAQAAAACAAcAAQAAAAQAAAACAAgAAQAAAAQAAAAMAAAAAQAAAAQAAAAMAAIAAQAAAAQAAAAMAAMAAQAAAAQAAAAMAAQAAQAAAAQAAAAMAAUAAQAAAAQAAAAMAAYAAQAAAAQAAAAMAAcAAQAAAAQAAAAMAAgAAQAAAAQAAAANAAAAAQAAAAQAAAANAAIAAQAAAAQAAAANAAMAAQAAAAQAAAANAAQAAQAAAAQAAAANAAUAAQAAAAQAAAANAAYAAQAAAAQAAAANAAcAAQAAAAQAAAANAAgAAQAAAAQAAAAOAAAAAQAAAAQAAAAOAAEAAQAAAAQAAAAOAAIAAQAAAAQAAAAOAAMAAQAAAAQAAAAOAAQAAQAAAAQAAAAOAAUAAQAAAAQAAAAOAAYAAQAAAAQAAAAOAAcAAQAAAAQAAAAOAAgAAQAAAAQAAAAAAAAAAQAAAAQAAAAPAAAAAQAAAAQAAAAPAAEAAQAAAAQAAAAPAAIAAQAAAAQAAAAPAAMAAQAAAAQAAAAPAAQAAQAAAAQAAAAPAAUAAQAAAAQAAAAPAAYAAQAAAAQAAAAPAAgAAQAAAAQAAAAPAAcAAQAAAAQAAAADAAEAAQAAAAQAAAAEAAEAAQAAAAQAAAAFAAEAAQAAAAQAAAAGAAEAAQAAAAQAAAAHAAEAAQAAAAQAAAAIAAEAAQAAAAQAAAAJAAEAAQAAAAQAAAAKAAEAAQAAAAQAAAALAAEAAQAAAAQAAAAMAAEAAQAAAAQAAAANAAEAAQAAAAQAAAAFAAMAAQAAAAQAAAAGAAMAAQAAAAQAAAAHAAMAAQAAAAQAAAAIAAMAAQAAAAQAAAAJAAMAAQAAAAQAAAAKAAMAAQAAAAQAAAAFAAIAAQAAAAQAAAAGAAIAAQAAAAQAAAAHAAIAAQAAAAQAAAAIAAIAAQAAAAQAAAAJAAIAAQAAAAQAAAAKAAIAAQAAAAQAAAAFAAcAAQAKAAAAAAA=")
tile_set = ExtResource("3_l3817")
rendering_quadrant_size = 24
script = ExtResource("4_dkl2c")

[node name="Wall" type="TileMapLayer" parent="."]
tile_map_data = PackedByteArray("AAAFAAIAAQABAAEAAAAFAAMAAQABAAEAAAAGAAIAAQABAAEAAAAGAAMAAQABAAEAAAAHAAIAAQABAAEAAAAHAAMAAQABAAEAAAAIAAIAAQABAAEAAAAIAAMAAQABAAEAAAAJAAIAAQABAAEAAAAJAAMAAQABAAEAAAAKAAIAAQABAAEAAAAKAAMAAQABAAEAAAAJAAcAAQAMAAEAAAAIAAcAAQAMAAEAABAGAAcAAQAMAAEAABAHAAcAAQAMAAEAAAAFAAcAAQAMAAEAAAA=")
tile_set = ExtResource("3_l3817")
rendering_quadrant_size = 24

[node name="Other" type="TileMapLayer" parent="."]
y_sort_enabled = true
tile_map_data = PackedByteArray("AAAJAAcAAQAOAAEAAAALAAUAAQAEAAEAAAALAAQAAQAEAAEAAAALAAMAAQAEAAEAAAALAAIAAQAEAAEAAAAKAAEAAQAEAAEAAGAJAAEAAQAEAAEAAGAIAAEAAQAEAAEAAGAHAAEAAQAEAAEAAGAGAAEAAQAEAAEAAGAFAAEAAQAEAAEAAGAEAAIAAQAEAAEAADAEAAMAAQAEAAEAADAEAAQAAQAEAAEAADAEAAUAAQAMAAEAADAFAAQAAQAQAAEAAAAFAAUAAQALAAEAAAAEAAYAAQAEAAEAADAEAAEAAQAEAAAAADALAAEAAQAEAAAAAGAIAAYAAQAPAAIAAAAIAAcAAQANAAEAAAAGAAcAAQANAAEAAAAKAAcAAQANAAEAAAAFAAcAAQAOAAEAAAAHAAcAAQAOAAEAAAAGAAYAAQAQAAIAAAAEAAcAAQAEAAEAADAFAAgAAQAEAAEAAFAGAAgAAQAEAAEAAFAHAAgAAQAEAAEAAFAIAAgAAQAEAAEAAFAJAAgAAQAEAAEAAFAKAAgAAQAEAAEAAFALAAYAAQAEAAEAAAALAAcAAQAEAAEAAAALAAgAAQAEAAAAAAAEAAgAAQAEAAAAAFAHAAIAAQALAAQAAAAIAAIAAQAMAAQAAAAJAAIAAQANAAQAAAAHAAMAAQALAAMAAAAIAAMAAQALAAMAAAAJAAMAAQALAAMAAAAFAAMAAQAPAAEAAAAFAAYAAQAOAAIAAAAHAAYAAQAOAAIAAAAJAAYAAQAOAAIAAAAKAAYAAQAPAAIAAAAKAAQAAQASAAgAAAA=")
tile_set = ExtResource("3_l3817")

[node name="PlayerSpawn" parent="." instance=ExtResource("5_bekep")]
position = Vector2(197, 124)

[node name="LevelTransition" parent="." instance=ExtResource("6_xpak6")]
position = Vector2(120, 132)
level = "uid://busm5ft2drjd"
target_transition_area = "LevelTransition2"
door = true
size = 1

[node name="Mirror" parent="." instance=ExtResource("7_gncu6")]
z_index = 1
position = Vector2(198, 90)
music = ExtResource("8_yw2c1")
music2 = SubResource("Resource_pgryn")

[node name="VideoStreamPlayer" type="VideoStreamPlayer" parent="Mirror"]
offset_left = -198.0
offset_top = -90.0
offset_right = 1722.0
offset_bottom = 990.0
scale = Vector2(0.2, 0.2)
stream = ExtResource("9_k8tp8")
expand = true
loop = true

[node name="Mirror2" parent="." instance=ExtResource("7_gncu6")]
z_index = 1
position = Vector2(222, 90)
music = ExtResource("8_yw2c1")
music2 = SubResource("Resource_pgryn")

[node name="VideoStreamPlayer" type="VideoStreamPlayer" parent="Mirror2"]
offset_left = -222.0
offset_top = -90.0
offset_right = 1698.0
offset_bottom = 990.0
scale = Vector2(0.2, 0.2)
stream = ExtResource("9_k8tp8")
expand = true
loop = true

[node name="GarbageCan" parent="." instance=ExtResource("15_18ykt")]
position = Vector2(132, 97)
size = Vector2(12, 12)

[node name="DialogText" type="Node" parent="GarbageCan"]
script = ExtResource("10_qnhht")
text = "A plastic garbage bin with nothing inside."
npc_info = ExtResource("11_sbofq")
metadata/_custom_type_script = "uid://dqrok5vg7oa3d"

[node name="Sink" parent="." instance=ExtResource("15_18ykt")]
position = Vector2(186, 90)
size = Vector2(6, 12)

[node name="DialogText" type="Node" parent="Sink"]
script = ExtResource("10_qnhht")
text = "A porcelain sink station."
npc_info = ExtResource("11_sbofq")
metadata/_custom_type_script = "uid://dqrok5vg7oa3d"

[node name="Sink2" parent="." instance=ExtResource("15_18ykt")]
position = Vector2(210, 90)
size = Vector2(6, 12)

[node name="DialogText" type="Node" parent="Sink2"]
script = ExtResource("10_qnhht")
text = "A porcelain sink station."
npc_info = ExtResource("11_sbofq")
metadata/_custom_type_script = "uid://dqrok5vg7oa3d"

[node name="BrokenSink" parent="." instance=ExtResource("15_18ykt")]
position = Vector2(234, 90)
size = Vector2(6, 12)

[node name="DialogText" type="Node" parent="BrokenSink"]
script = ExtResource("10_qnhht")
text = "A broken porcelain sink station."
npc_info = ExtResource("11_sbofq")
metadata/_custom_type_script = "uid://dqrok5vg7oa3d"

[node name="DialogText2" type="Node" parent="BrokenSink"]
script = ExtResource("10_qnhht")
text = "The corner is shattered and has traces of blood."
npc_info = ExtResource("11_sbofq")
metadata/_custom_type_script = "uid://dqrok5vg7oa3d"

[node name="DialogText3" type="Node" parent="BrokenSink"]
script = ExtResource("10_qnhht")
text = "(The lifeguard’s head was smashed here and into the mirror.)"
frame = 14
npc_info = ExtResource("14_apwyc")
metadata/_custom_type_script = "uid://dqrok5vg7oa3d"

[node name="DialogText4" type="Node" parent="BrokenSink"]
script = ExtResource("10_qnhht")
text = "(There’s almost no signs of struggle.)"
frame = 17
npc_info = ExtResource("14_apwyc")
metadata/_custom_type_script = "uid://dqrok5vg7oa3d"

[node name="DialogText5" type="Node" parent="BrokenSink"]
script = ExtResource("10_qnhht")
text = "(Was he caught off guard…?)"
npc_info = ExtResource("14_apwyc")
metadata/_custom_type_script = "uid://dqrok5vg7oa3d"

[node name="Toilet" parent="." instance=ExtResource("15_18ykt")]
position = Vector2(156, 184)
size = Vector2(16, 16)

[node name="DialogText" type="Node" parent="Toilet"]
script = ExtResource("10_qnhht")
text = "A porcelain toilet sits against the wall."
npc_info = ExtResource("11_sbofq")
metadata/_custom_type_script = "uid://dqrok5vg7oa3d"

[node name="TowelDispenser" parent="." instance=ExtResource("15_18ykt")]
position = Vector2(144, 89)
size = Vector2(12, 16)

[node name="DialogText" type="Node" parent="TowelDispenser"]
script = ExtResource("10_qnhht")
text = "An empty paper towel dispenser hangs on the wall."
npc_info = ExtResource("11_sbofq")
metadata/_custom_type_script = "uid://dqrok5vg7oa3d"

[node name="SinkPieces" parent="." instance=ExtResource("19_wjl6b")]
position = Vector2(252, 108)

[node name="1" type="Node" parent="SinkPieces"]

[node name="DialogText" type="Node" parent="SinkPieces/1"]
script = ExtResource("10_qnhht")
text = "Shattered pieces of the sink and mirror lie on the ground."
npc_info = ExtResource("11_sbofq")
metadata/_custom_type_script = "uid://dqrok5vg7oa3d"

[node name="DialogText2" type="Node" parent="SinkPieces/1"]
script = ExtResource("10_qnhht")
text = "There’s visible blood splatter on them."
npc_info = ExtResource("11_sbofq")
metadata/_custom_type_script = "uid://dqrok5vg7oa3d"

[node name="DialogText3" type="Node" parent="SinkPieces/1"]
script = ExtResource("10_qnhht")
text = "(The blood is likely from the victim.)"
frame = 10
npc_info = ExtResource("14_apwyc")
metadata/_custom_type_script = "uid://dqrok5vg7oa3d"

[node name="DialogText4" type="Node" parent="SinkPieces/1"]
script = ExtResource("10_qnhht")
text = "(But I wonder if the killer also lost some blood during the killing.)"
frame = 9
npc_info = ExtResource("14_apwyc")
metadata/_custom_type_script = "uid://dqrok5vg7oa3d"

[node name="DialogText5" type="Node" parent="SinkPieces/1"]
script = ExtResource("10_qnhht")
text = "(It’s so easy to cut yourself on the broken sink…)"
frame = 16
npc_info = ExtResource("14_apwyc")
metadata/_custom_type_script = "uid://dqrok5vg7oa3d"

[node name="DialogText6" type="Node" parent="SinkPieces/1"]
script = ExtResource("10_qnhht")
text = "**OBTAINED: BLOODY SINK FRAGMENT"
npc_info = ExtResource("11_sbofq")
metadata/_custom_type_script = "uid://dqrok5vg7oa3d"

[node name="Yes" type="Node" parent="SinkPieces"]

[node name="No" type="Node" parent="SinkPieces"]

[node name="Repeat" type="Node" parent="SinkPieces"]

[node name="DialogText" type="Node" parent="SinkPieces/Repeat"]
script = ExtResource("10_qnhht")
text = "Shattered pieces of the sink and mirror lie on the ground."
npc_info = ExtResource("11_sbofq")
metadata/_custom_type_script = "uid://dqrok5vg7oa3d"

[node name="DialogText2" type="Node" parent="SinkPieces/Repeat"]
script = ExtResource("10_qnhht")
text = "There’s visible blood splatter on them."
npc_info = ExtResource("11_sbofq")
metadata/_custom_type_script = "uid://dqrok5vg7oa3d"

[node name="DialogText3" type="Node" parent="SinkPieces/Repeat"]
script = ExtResource("10_qnhht")
text = "(The blood is likely from the victim.)"
frame = 10
npc_info = ExtResource("14_apwyc")
metadata/_custom_type_script = "uid://dqrok5vg7oa3d"

[node name="DialogText4" type="Node" parent="SinkPieces/Repeat"]
script = ExtResource("10_qnhht")
text = "(But I wonder if the killer also lost some blood during the killing.)"
frame = 9
npc_info = ExtResource("14_apwyc")
metadata/_custom_type_script = "uid://dqrok5vg7oa3d"

[node name="DialogText5" type="Node" parent="SinkPieces/Repeat"]
script = ExtResource("10_qnhht")
text = "(It’s so easy to cut yourself on the broken sink…)"
frame = 16
npc_info = ExtResource("14_apwyc")
metadata/_custom_type_script = "uid://dqrok5vg7oa3d"
