[gd_scene load_steps=22 format=4 uid="uid://c336h8r5yg5lp"]

[ext_resource type="Script" uid="uid://b3mbmxr3iysya" path="res://Levels/scripts/level.gd" id="1_47y3u"]
[ext_resource type="AudioStream" uid="uid://ddsuf5nybmid3" path="res://Levels/music/only-i-know.ogg" id="2_5skm3"]
[ext_resource type="TileSet" uid="uid://cdgdoc5i46fy3" path="res://Tile Maps/Tile Sets/hospital.tres" id="2_cnou3"]
[ext_resource type="Script" uid="uid://2hobeot03u4v" path="res://Tile Maps/level_tile_map.gd" id="3_5skm3"]
[ext_resource type="PackedScene" uid="uid://uqut3xy8f7mb" path="res://Levels/player_spawn.tscn" id="4_tpxbo"]
[ext_resource type="PackedScene" uid="uid://bt4r7451gfkr5" path="res://Levels/level_transition.tscn" id="5_yjol7"]
[ext_resource type="Script" uid="uid://dqrok5vg7oa3d" path="res://Interactables/dialog/scripts/dialog_text.gd" id="7_11mb2"]
[ext_resource type="Resource" uid="uid://ctbf7x8e37pym" path="res://npc/00_npcs/eris.tres" id="7_wm0d1"]
[ext_resource type="Script" uid="uid://dst30i4jr8cmt" path="res://Interactables/dialog/scripts/dialog_sfx.gd" id="8_47y3u"]
[ext_resource type="Script" uid="uid://brs8u3tatshur" path="res://Levels/scripts/light_flicker.gd" id="10_5skm3"]
[ext_resource type="Script" uid="uid://ctfwlrgosp8ew" path="res://Interactables/dialog/scripts/dialog_cutscene.gd" id="10_11mb2"]
[ext_resource type="AudioStream" uid="uid://dowfxy42ujsis" path="res://Levels/music/Short_Silent,_Empty_Audio.ogg" id="10_lp6bn"]
[ext_resource type="Script" uid="uid://52vu64828kub" path="res://Interactables/dialog/scripts/cutscene_action_animation.gd" id="11_lp6bn"]
[ext_resource type="Texture2D" uid="uid://lif6ysy0jebs" path="res://FullScreenArt/1920x1080-black-solid-color-background.jpg" id="11_tpxbo"]
[ext_resource type="Texture2D" uid="uid://dlgmpfbhtcoeq" path="res://FullScreenArt/officer y birdman 1 fs.png" id="12_yjol7"]

[sub_resource type="Gradient" id="Gradient_7prdi"]
colors = PackedColorArray(1, 1, 1, 1, 0, 0, 0, 1)

[sub_resource type="GradientTexture2D" id="GradientTexture2D_tpxbo"]
gradient = SubResource("Gradient_7prdi")
width = 256
height = 256
fill = 1
fill_from = Vector2(0.5, 0.5)
fill_to = Vector2(1, 0.5)

[sub_resource type="Animation" id="Animation_yjol7"]
resource_name = "black"
length = 4.0
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:texture")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(3.5),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [ExtResource("11_tpxbo")]
}

[sub_resource type="Animation" id="Animation_62q6t"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:texture")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [null]
}

[sub_resource type="Animation" id="Animation_11mb2"]
resource_name = "mirror"
length = 4.0
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:texture")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 4),
"transitions": PackedFloat32Array(1, 1),
"update": 1,
"values": [ExtResource("12_yjol7"), ExtResource("11_tpxbo")]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_11mb2"]
_data = {
&"RESET": SubResource("Animation_62q6t"),
&"black": SubResource("Animation_yjol7"),
&"mirror": SubResource("Animation_11mb2")
}

[node name="11" type="Node2D"]
script = ExtResource("1_47y3u")
music = ExtResource("2_5skm3")

[node name="Floor" type="TileMapLayer" parent="."]
tile_map_data = PackedByteArray("AAAAAAAAAwAAAAEAAAABAAAAAwAAAAEAAAACAAAAAwAAAAEAAAADAAAAAwAAAAEAAAAEAAAAAwAAAAEAAAAFAAAAAwAAAAEAAAAGAAAAAwAAAAEAAAAHAAAAAwAAAAEAAAAIAAAAAwAAAAEAAAAJAAAAAwAAAAEAAAAKAAAAAwAAAAEAAAALAAAAAwAAAAEAAAAMAAAAAwAAAAEAAAANAAAAAwAAAAEAAAAOAAAAAwAAAAEAAAAPAAAAAwAAAAEAAAAAAAEAAwAAAAEAAAAAAAIAAwAAAAEAAAAAAAMAAwAAAAEAAAAAAAQAAwAAAAEAAAAAAAUAAwAAAAEAAAAAAAYAAwAAAAEAAAAAAAcAAwAAAAEAAAAAAAgAAwAAAAEAAAABAAEAAwAAAAEAAAABAAIAAwAAAAEAAAABAAMAAwAAAAEAAAABAAQAAwAAAAEAAAABAAUAAwAAAAEAAAABAAYAAwAAAAEAAAABAAcAAwAAAAEAAAABAAgAAwAAAAEAAAACAAEAAwAAAAEAAAACAAIAAwAAAAEAAAACAAMAAwAAAAEAAAACAAQAAwAAAAEAAAACAAUAAwAAAAEAAAACAAYAAwAAAAEAAAACAAcAAwAAAAEAAAACAAgAAwAAAAEAAAADAAEAAwAAAAEAAAADAAIAAwAAAAEAAAADAAMAAwAAAAEAAAADAAQAAwAAAAEAAAADAAUAAwAAAAEAAAADAAYAAwAAAAEAAAADAAcAAwAAAAEAAAADAAgAAwAAAAEAAAAEAAEAAwAAAAEAAAAEAAIAAwAAAAEAAAAEAAMAAwAAAAEAAAAEAAQAAwAAAAEAAAAEAAUAAwAAAAEAAAAEAAYAAwAAAAEAAAAEAAcAAwAAAAEAAAAEAAgAAwAAAAEAAAAFAAEAAwAAAAEAAAAFAAIAAwAAAAEAAAAFAAMAAwAAAAEAAAAFAAQAAwAAAAEAAAAFAAUAAwAAAAEAAAAFAAYAAwAAAAEAAAAFAAcAAwAAAAEAAAAFAAgAAwAAAAEAAAAGAAYAAwAAAAAAAAAGAAcAAwAAAAEAAAAGAAgAAwAAAAEAAAAHAAYAAwAAAAAAAAAHAAcAAwAAAAEAAAAHAAgAAwAAAAEAAAAIAAYAAwAAAAAAAAAIAAcAAwAAAAEAAAAIAAgAAwAAAAEAAAAJAAYAAwAAAAAAAAAJAAcAAwAAAAEAAAAJAAgAAwAAAAEAAAAKAAEAAwAAAAEAAAAKAAIAAwAAAAEAAAAKAAMAAwAAAAEAAAAKAAQAAwAAAAEAAAAKAAUAAwAAAAEAAAAKAAYAAwAAAAEAAAAKAAcAAwAAAAEAAAAKAAgAAwAAAAEAAAALAAEAAwAAAAEAAAALAAIAAwAAAAEAAAALAAMAAwAAAAEAAAALAAQAAwAAAAEAAAALAAUAAwAAAAEAAAALAAYAAwAAAAEAAAALAAcAAwAAAAEAAAALAAgAAwAAAAEAAAAMAAEAAwAAAAEAAAAMAAIAAwAAAAEAAAAMAAMAAwAAAAEAAAAMAAQAAwAAAAEAAAAMAAUAAwAAAAEAAAAMAAYAAwAAAAEAAAAMAAcAAwAAAAEAAAAMAAgAAwAAAAEAAAANAAEAAwAAAAEAAAANAAIAAwAAAAEAAAANAAMAAwAAAAEAAAANAAQAAwAAAAEAAAANAAUAAwAAAAEAAAANAAYAAwAAAAEAAAANAAcAAwAAAAEAAAANAAgAAwAAAAEAAAAOAAEAAwAAAAEAAAAOAAIAAwAAAAEAAAAOAAMAAwAAAAEAAAAOAAQAAwAAAAEAAAAOAAUAAwAAAAEAAAAOAAYAAwAAAAEAAAAOAAcAAwAAAAEAAAAOAAgAAwAAAAEAAAAPAAEAAwAAAAEAAAAPAAIAAwAAAAEAAAAPAAMAAwAAAAEAAAAPAAQAAwAAAAEAAAAPAAUAAwAAAAEAAAAPAAYAAwAAAAEAAAAPAAcAAwAAAAEAAAAPAAgAAwAAAAEAAAAGAAIAAwAAAAEAAAAGAAMAAwAAAAEAAAAGAAQAAwAAAAAAAAAGAAUAAwAAAAAAAAAHAAIAAwAAAAEAAAAHAAMAAwAAAAEAAAAHAAQAAwAAAAAAAAAHAAUAAwAAAAAAAAAIAAIAAwAAAAEAAAAIAAQAAwAAAAAAAAAIAAUAAwAAAAAAAAAJAAIAAwAAAAEAAAAJAAMAAwAAAAEAAAAJAAQAAwAAAAAAAAAJAAUAAwAAAAAAAAAJAAEAAwAAAAEAAAAIAAEAAwAAAAEAAAAHAAEAAwAAAAEAAAAGAAEAAwAAAAEAAAAIAAMAAwAAAAEAAAA=")
tile_set = ExtResource("2_cnou3")
rendering_quadrant_size = 24
script = ExtResource("3_5skm3")

[node name="Wall" type="TileMapLayer" parent="."]
tile_map_data = PackedByteArray("AAAJAAMAAwABAAAAAAAIAAMAAwABAAAAAAAHAAMAAwABAAAAAAAGAAMAAwABAAAAAAAGAAIAAwABAAAAAAAHAAIAAwABAAAAAAAIAAIAAwABAAAAAAAJAAIAAwABAAAAAAA=")
tile_set = ExtResource("2_cnou3")
rendering_quadrant_size = 24

[node name="Other" type="TileMapLayer" parent="."]
y_sort_enabled = true
tile_map_data = PackedByteArray("AAAJAAUAAwAFAAEAAGAIAAMAAwAEAAQAAAAGAAMAAwAFAAIAAAAKAAEAAwAEAAAAAAAKAAIAAwADAAAAAFAKAAMAAwADAAAAAFAKAAQAAwADAAAAAFAKAAUAAwADAAAAAFAKAAYAAwADAAAAAFAGAAcAAwADAAAAADAHAAcAAwADAAAAADAIAAcAAwADAAAAADAJAAcAAwADAAAAADAFAAIAAwADAAAAAGAFAAMAAwADAAAAAGAFAAQAAwADAAAAAGAFAAUAAwADAAAAAGAFAAYAAwADAAAAAGAGAAEAAwADAAAAAAAHAAEAAwADAAAAAAAIAAEAAwADAAAAAAAJAAEAAwADAAAAAAAKAAcAAwAEAAAAAFAFAAcAAwAEAAAAADAFAAEAAwAEAAAAAGA=")
tile_set = ExtResource("2_cnou3")

[node name="PlayerSpawn" parent="." instance=ExtResource("4_tpxbo")]
position = Vector2(157, 112)

[node name="LevelTransition" parent="." instance=ExtResource("5_yjol7")]
position = Vector2(204, 96)
level = "uid://cucd43syffkhs"
door = true
size = 1
side = 2

[node name="DialogText" type="Node" parent="."]
script = ExtResource("7_11mb2")
text = "“What’s happening?!”"
frame = 23
npc_info = ExtResource("7_wm0d1")
metadata/_custom_type_script = "uid://dqrok5vg7oa3d"

[node name="DialogText2" type="Node" parent="."]
script = ExtResource("7_11mb2")
text = "“There’s something here…”"
frame = 36
npc_info = ExtResource("7_wm0d1")
metadata/_custom_type_script = "uid://dqrok5vg7oa3d"

[node name="DialogText3" type="Node" parent="."]
script = ExtResource("7_11mb2")
text = "“Something with me…”"
frame = 27
npc_info = ExtResource("7_wm0d1")
metadata/_custom_type_script = "uid://dqrok5vg7oa3d"

[node name="DialogText4" type="Node" parent="."]
script = ExtResource("7_11mb2")
text = "“It knows…”"
frame = 33
npc_info = ExtResource("7_wm0d1")
metadata/_custom_type_script = "uid://dqrok5vg7oa3d"

[node name="DialogSFX" type="Node" parent="."]
script = ExtResource("8_47y3u")
sfx = ExtResource("10_lp6bn")
bgm = true
metadata/_custom_type_script = "uid://dst30i4jr8cmt"

[node name="DialogText5" type="Node" parent="."]
script = ExtResource("7_11mb2")
text = "“Please…PLEASE…”"
frame = 3
npc_info = ExtResource("7_wm0d1")
metadata/_custom_type_script = "uid://dqrok5vg7oa3d"

[node name="DialogText6" type="Node" parent="."]
script = ExtResource("7_11mb2")
text = "“I DIDN’T MEAN TO DO IT!!!”"
frame = 25
npc_info = ExtResource("7_wm0d1")
metadata/_custom_type_script = "uid://dqrok5vg7oa3d"

[node name="DialogText7" type="Node" parent="."]
script = ExtResource("7_11mb2")
text = "“LEAVE ME ALONE!!!”"
frame = 20
npc_info = ExtResource("7_wm0d1")
metadata/_custom_type_script = "uid://dqrok5vg7oa3d"

[node name="DialogCutscene" type="Node" parent="."]
script = ExtResource("10_11mb2")
metadata/_custom_type_script = "uid://ctfwlrgosp8ew"

[node name="CutsceneActionAnimation" type="Node2D" parent="DialogCutscene" node_paths=PackedStringArray("animation_player")]
script = ExtResource("11_lp6bn")
animation_player = NodePath("../../CanvasLayer/TextureRect/AnimationPlayer")
animation_name = "black"
metadata/_custom_type_script = "uid://52vu64828kub"

[node name="CutsceneActionAnimation2" type="Node2D" parent="DialogCutscene" node_paths=PackedStringArray("animation_player")]
script = ExtResource("11_lp6bn")
animation_player = NodePath("../../CanvasLayer/TextureRect/AnimationPlayer")
animation_name = "mirror"
metadata/_custom_type_script = "uid://52vu64828kub"

[node name="DirectionalLight2D" type="DirectionalLight2D" parent="."]
blend_mode = 1

[node name="PointLight2D" type="PointLight2D" parent="."]
position = Vector2(192, 108)
energy = 0.5
texture = SubResource("GradientTexture2D_tpxbo")
script = ExtResource("10_5skm3")

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="TextureRect" type="TextureRect" parent="CanvasLayer"]
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="AnimationPlayer" type="AnimationPlayer" parent="CanvasLayer/TextureRect"]
libraries = {
&"": SubResource("AnimationLibrary_11mb2")
}
